/*!
 * froala_editor v2.6.5 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2017 Froala Labs
 */
;!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c)}:a(window.jQuery)}(function(a){if(a.extend(a.FE.DEFAULTS,{aviaryKey:"542e1ff5d5144b9b81cef846574ba6cf",aviaryScriptURL:"https://dme0ih8comzn4.cloudfront.net/imaging/v3/editor.js",aviaryOptions:{displayImageSize:!0,theme:"minimum"}}),a.FE.PLUGINS.imageAviary=function(b){function c(h,i){var g=document.createElement("script");g.type="text/javascript",g.defer="defer",g.src=h,g.innerText="",g.onload=i,document.getElementsByTagName("head")[0].appendChild(g)}function d(){b.shared.feather_editor||(b.shared.feather_editor=!0,"undefined"==typeof Aviary?c(b.opts.aviaryScriptURL,e):e())}function e(){b.shared.feather_editor=new Aviary.Feather(a.extend({apiKey:b.opts.aviaryKey,onSave:function(g,h){var i=new Image;i.crossOrigin="Anonymous",i.onload=function(){var k=document.createElement("CANVAS"),l=k.getContext("2d");k.height=this.height,k.width=this.width,l.drawImage(this,0,0);for(var t=k.toDataURL("image/png"),u=atob(t.split(",")[1]),v=[],w=0;w<u.length;w++){v.push(u.charCodeAt(w))}var j=new Blob([new Uint8Array(v)],{type:"image/png"});b.shared.feather_editor.instance.image.edit(a(b.shared.feather_editor.current_image)),b.shared.feather_editor.instance.image.upload([j]),b.shared.feather_editor.close()},i.src=h,b.shared.feather_editor.showWaitIndicator()},onError:function(g){throw new Error(g.message)},onClose:function(){b.shared.feather_editor.instance.image.get()||b.shared.feather_editor.instance.image.edit(a(b.shared.feather_editor.current_image))}},b.opts.aviaryOptions))}function f(g){"object"==typeof g.shared.feather_editor&&(g.shared.feather_editor.current_image=g.image.get()[0],g.shared.feather_editor.instance=g,g.shared.feather_editor.launch({image:g.image.get()[0],url:g.image.get()[0].src}))}return{_init:d,launch:f}},a.FE.DefineIcon("aviary",{NAME:"sliders"}),a.FE.RegisterCommand("aviary",{title:"Advanced Edit",undo:!1,focus:!1,callback:function(b,e){this.imageAviary.launch(this)},plugin:"imageAviary"}),!a.FE.PLUGINS.image){throw new Error("Image Aviary plugin requires image plugin.")}a.FE.DEFAULTS.imageEditButtons.indexOf("imageStyle")>-1&&a.FE.DEFAULTS.imageEditButtons.splice(a.FE.DEFAULTS.imageEditButtons.indexOf("imageStyle"),1),a.FE.DEFAULTS.imageEditButtons.push("aviary")});