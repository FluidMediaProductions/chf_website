/*!
 * froala_editor v2.6.5 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2017 Froala Labs
 */
;!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c)}:a(window.jQuery)}(function(a){a.extend(a.FE.DEFAULTS,{lineBreakerTags:["table","hr","form","dl","span.fr-video"],lineBreakerOffset:15,lineBreakerHorizontalOffset:10}),a.FE.PLUGINS.lineBreaker=function(c){function e(y,z){var A,B,C,D,E,t,u,v;if(null==y){D=z.parent(),E=D.offset().top,u=z.offset().top,A=u-Math.min((u-E)/2,c.opts.lineBreakerOffset),C=D.outerWidth(),B=D.offset().left}else{if(null==z){D=y.parent(),t=D.offset().top+D.outerHeight(),v=y.offset().top+y.outerHeight(),A=v+Math.min((t-v)/2,c.opts.lineBreakerOffset),C=D.outerWidth(),B=D.offset().left}else{D=y.parent();var w=y.offset().top+y.height(),x=z.offset().top;if(w>x){return !1}A=(w+x)/2,C=D.outerWidth(),B=D.offset().left}}c.opts.iframe&&(B+=c.$iframe.offset().left-c.helpers.scrollLeft(),A+=c.$iframe.offset().top-c.helpers.scrollTop()),c.$box.append(l),l.css("top",A-c.win.pageYOffset),l.css("left",B-c.win.pageXOffset),l.css("width",C),l.data("tag1",y),l.data("tag2",z),l.addClass("fr-visible").data("instance",c)}function g(z,x){var y,t,u=z.offset().top,v=z.offset().top+z.outerHeight();if(Math.abs(v-x)<=c.opts.lineBreakerOffset||Math.abs(x-u)<=c.opts.lineBreakerOffset){if(Math.abs(v-x)<Math.abs(x-u)){t=z.get(0);for(var w=t.nextSibling;w&&w.nodeType==Node.TEXT_NODE&&0===w.textContent.length;){w=w.nextSibling}if(!w){return e(z,null),!0}if(y=i(w)){return e(z,y),!0}}else{if(t=z.get(0),!t.previousSibling){return e(null,z),!0}if(y=i(t.previousSibling)){return e(y,z),!0}}}l.removeClass("fr-visible").removeData("instance")}function i(t){if(t){var u=a(t);if(0===c.$el.find(u).length){return null}if(t.nodeType!=Node.TEXT_NODE&&u.is(c.opts.lineBreakerTags.join(","))){return u}if(u.parents(c.opts.lineBreakerTags.join(",")).length>0){return t=u.parents(c.opts.lineBreakerTags.join(",")).get(0),0!==c.$el.find(t).length&&a(t).is(c.opts.lineBreakerTags.join(","))?a(t):null}}return null}function k(t,u){var v=c.doc.elementFromPoint(t,u);return v&&!a(v).closest(".fr-line-breaker").length&&!c.node.isElement(v)&&v!=c.$wp.get(0)&&a(v).closest(c.$wp).length?v:null}function m(x,t,u){for(var v=u,w=null;v<=c.opts.lineBreakerOffset&&!w;){w=k(x,t-v),w||(w=k(x,t+v)),v+=u}return w}function o(w,t,u){for(var v=null;!v&&w>c.$box.offset().left&&w<c.$box.offset().left+c.$box.outerWidth();){v=k(w,t),v||(v=m(w,t,5)),"left"==u?w-=c.opts.lineBreakerHorizontalOffset:w+=c.opts.lineBreakerHorizontalOffset}return v}function p(w){s=null;var t=null,u=null,v=c.doc.elementFromPoint(w.pageX-c.win.pageXOffset,w.pageY-c.win.pageYOffset);v&&("HTML"==v.tagName||"BODY"==v.tagName||c.node.isElement(v)||(v.getAttribute("class")||"").indexOf("fr-line-breaker")>=0)?(u=m(w.pageX-c.win.pageXOffset,w.pageY-c.win.pageYOffset,1),u||(u=o(w.pageX-c.win.pageXOffset-c.opts.lineBreakerHorizontalOffset,w.pageY-c.win.pageYOffset,"left")),u||(u=o(w.pageX-c.win.pageXOffset+c.opts.lineBreakerHorizontalOffset,w.pageY-c.win.pageYOffset,"right")),t=i(u)):t=i(v),t?g(t,w.pageY):c.core.sameInstance(l)&&l.removeClass("fr-visible").removeData("instance")}function q(t){return !(l.hasClass("fr-visible")&&!c.core.sameInstance(l))&&(c.popups.areVisible()||c.el.querySelector(".fr-selected-cell")?(l.removeClass("fr-visible"),!0):void (!1!==n||c.edit.isDisabled()||(s&&clearTimeout(s),s=setTimeout(p,30,t))))}function r(){s&&clearTimeout(s),l.hasClass("fr-visible")&&l.removeClass("fr-visible").removeData("instance")}function b(){n=!0,r()}function d(){n=!1}function f(t){if(!c.core.sameInstance(l)){return !0}t.preventDefault(),l.removeClass("fr-visible").removeData("instance");var u=l.data("tag1"),v=l.data("tag2"),w=c.html.defaultTag();null==u?w&&"TD"!=v.parent().get(0).tagName&&0===v.parents(w).length?v.before("<"+w+">"+a.FE.MARKERS+"<br></"+w+">"):v.before(a.FE.MARKERS+"<br>"):w&&"TD"!=u.parent().get(0).tagName&&0===u.parents(w).length?u.after("<"+w+">"+a.FE.MARKERS+"<br></"+w+">"):u.after(a.FE.MARKERS+"<br>"),c.selection.restore()}function h(){c.shared.$line_breaker||(c.shared.$line_breaker=a('<div class="fr-line-breaker"><a class="fr-floating-btn" role="button" tabIndex="-1" title="'+c.language.translate("Break")+'"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><rect x="21" y="11" width="2" height="8"/><rect x="14" y="17" width="7" height="2"/><path d="M14.000,14.000 L14.000,22.013 L9.000,18.031 L14.000,14.000 Z"/></svg></a></div>')),l=c.shared.$line_breaker,c.events.on("shared.destroy",function(){l.html("").removeData().remove(),l=null},!0),c.events.on("destroy",function(){l.removeData("instance").removeClass("fr-visible").appendTo("body:first"),clearTimeout(s)},!0),c.events.$on(l,"mousemove",function(t){t.stopPropagation()},!0),c.events.$on(l,"mousedown","a",function(t){t.stopPropagation()},!0),c.events.$on(l,"click","a",f,!0)}function j(){if(!c.$wp){return !1}h(),n=!1,c.events.$on(c.$win,"mousemove",q),c.events.$on(a(c.win),"scroll",r),c.events.on("popups.show.table.edit",r),c.events.on("commands.after",r),c.events.$on(a(c.win),"mousedown",b),c.events.$on(a(c.win),"mouseup",d)}var l,n,s;return{_init:j}}});