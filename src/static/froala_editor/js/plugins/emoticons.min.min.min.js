/*!
 * froala_editor v2.6.5 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2017 Froala Labs
 */
;!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c)}:a(window.jQuery)}(function(a){a.extend(a.FE.POPUP_TEMPLATES,{emoticons:"[_BUTTONS_][_EMOTICONS_]"}),a.extend(a.FE.DEFAULTS,{emoticonsStep:8,emoticonsSet:[{code:"1f600",desc:"Grinning face"},{code:"1f601",desc:"Grinning face with smiling eyes"},{code:"1f602",desc:"Face with tears of joy"},{code:"1f603",desc:"Smiling face with open mouth"},{code:"1f604",desc:"Smiling face with open mouth and smiling eyes"},{code:"1f605",desc:"Smiling face with open mouth and cold sweat"},{code:"1f606",desc:"Smiling face with open mouth and tightly-closed eyes"},{code:"1f607",desc:"Smiling face with halo"},{code:"1f608",desc:"Smiling face with horns"},{code:"1f609",desc:"Winking face"},{code:"1f60a",desc:"Smiling face with smiling eyes"},{code:"1f60b",desc:"Face savoring delicious food"},{code:"1f60c",desc:"Relieved face"},{code:"1f60d",desc:"Smiling face with heart-shaped eyes"},{code:"1f60e",desc:"Smiling face with sunglasses"},{code:"1f60f",desc:"Smirking face"},{code:"1f610",desc:"Neutral face"},{code:"1f611",desc:"Expressionless face"},{code:"1f612",desc:"Unamused face"},{code:"1f613",desc:"Face with cold sweat"},{code:"1f614",desc:"Pensive face"},{code:"1f615",desc:"Confused face"},{code:"1f616",desc:"Confounded face"},{code:"1f617",desc:"Kissing face"},{code:"1f618",desc:"Face throwing a kiss"},{code:"1f619",desc:"Kissing face with smiling eyes"},{code:"1f61a",desc:"Kissing face with closed eyes"},{code:"1f61b",desc:"Face with stuck out tongue"},{code:"1f61c",desc:"Face with stuck out tongue and winking eye"},{code:"1f61d",desc:"Face with stuck out tongue and tightly-closed eyes"},{code:"1f61e",desc:"Disappointed face"},{code:"1f61f",desc:"Worried face"},{code:"1f620",desc:"Angry face"},{code:"1f621",desc:"Pouting face"},{code:"1f622",desc:"Crying face"},{code:"1f623",desc:"Persevering face"},{code:"1f624",desc:"Face with look of triumph"},{code:"1f625",desc:"Disappointed but relieved face"},{code:"1f626",desc:"Frowning face with open mouth"},{code:"1f627",desc:"Anguished face"},{code:"1f628",desc:"Fearful face"},{code:"1f629",desc:"Weary face"},{code:"1f62a",desc:"Sleepy face"},{code:"1f62b",desc:"Tired face"},{code:"1f62c",desc:"Grimacing face"},{code:"1f62d",desc:"Loudly crying face"},{code:"1f62e",desc:"Face with open mouth"},{code:"1f62f",desc:"Hushed face"},{code:"1f630",desc:"Face with open mouth and cold sweat"},{code:"1f631",desc:"Face screaming in fear"},{code:"1f632",desc:"Astonished face"},{code:"1f633",desc:"Flushed face"},{code:"1f634",desc:"Sleeping face"},{code:"1f635",desc:"Dizzy face"},{code:"1f636",desc:"Face without mouth"},{code:"1f637",desc:"Face with medical mask"}],emoticonsButtons:["emoticonsBack","|"],emoticonsUseImage:!0}),a.FE.PLUGINS.emoticons=function(j){function k(){var o=j.$tb.find('.fr-command[data-cmd="emoticons"]'),l=j.popups.get("emoticons");if(l||(l=c()),!l.hasClass("fr-active")){j.popups.refresh("emoticons"),j.popups.setContainer("emoticons",j.$tb);var m=o.offset().left+o.outerWidth()/2,n=o.offset().top+(j.opts.toolbarBottom?10:o.outerHeight()-10);j.popups.show("emoticons",m,n,o.outerHeight())}}function b(){j.popups.hide("emoticons")}function c(){var n="";j.opts.toolbarInline&&j.opts.emoticonsButtons.length>0&&(n='<div class="fr-buttons fr-emoticons-buttons">'+j.button.buildList(j.opts.emoticonsButtons)+"</div>");var l={buttons:n,emoticons:e()},m=j.popups.create("emoticons",l);return j.tooltip.bind(m,".fr-emoticon"),f(m),m}function d(){if(!j.selection.isCollapsed()){return !1}var p=j.selection.element(),l=j.selection.endElement();if(p&&j.node.hasClass(p,"fr-emoticon")){return p}if(l&&j.node.hasClass(l,"fr-emoticon")){return l}var m=j.selection.ranges(0),n=m.startContainer;if(n.nodeType==Node.ELEMENT_NODE&&n.childNodes.length>0&&m.startOffset>0){var o=n.childNodes[m.startOffset-1];if(j.node.hasClass(o,"fr-emoticon")){return o}}return !1}function e(){for(var m='<div style="text-align: center">',l=0;l<j.opts.emoticonsSet.length;l++){0!==l&&l%j.opts.emoticonsStep==0&&(m+="<br>"),m+='<span class="fr-command fr-emoticon" tabIndex="-1" data-cmd="insertEmoticon" title="'+j.language.translate(j.opts.emoticonsSet[l].desc)+'" role="button" data-param1="'+j.opts.emoticonsSet[l].code+'">'+(j.opts.emoticonsUseImage?'<img src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.0.1/assets/svg/'+j.opts.emoticonsSet[l].code+'.svg"/>':"&#x"+j.opts.emoticonsSet[l].code+";")+'<span class="fr-sr-only">'+j.language.translate(j.opts.emoticonsSet[l].desc)+"&nbsp;&nbsp;&nbsp;</span></span>"}return j.opts.emoticonsUseImage&&(m+='<p style="font-size: 12px; text-align: center; padding: 0 5px;">Emoji free by <a class="fr-link" tabIndex="-1" href="http://emojione.com/" target="_blank" rel="nofollow" role="link" aria-label="Open Emoji One website.">Emoji One</a></p>'),m+="</div>"}function f(l){j.events.on("popup.tab",function(K){var M=a(K.currentTarget);if(!j.popups.isVisible("emoticons")||!M.is("span, a")){return !0}var N,O,m,n=K.which;if(a.FE.KEYCODE.TAB==n){if(M.is("span.fr-emoticon")&&K.shiftKey||M.is("a")&&!K.shiftKey){var o=l.find(".fr-buttons");N=!j.accessibility.focusToolbar(o,!!K.shiftKey)}if(!1!==N){var p=l.find("span.fr-emoticon:focus:first, span.fr-emoticon:visible:first, a");M.is("span.fr-emoticon")&&(p=p.not("span.fr-emoticon:not(:focus)")),O=p.index(M),O=K.shiftKey?((O-1)%p.length+p.length)%p.length:(O+1)%p.length,m=p.get(O),j.events.disableBlur(),m.focus(),N=!1}}else{if(a.FE.KEYCODE.ARROW_UP==n||a.FE.KEYCODE.ARROW_DOWN==n||a.FE.KEYCODE.ARROW_LEFT==n||a.FE.KEYCODE.ARROW_RIGHT==n){if(M.is("span.fr-emoticon")){var r=M.parent().find("span.fr-emoticon");O=r.index(M);var s=j.opts.emoticonsStep,t=Math.floor(r.length/s),I=O%s,J=Math.floor(O/s),L=J*s+I,q=t*s;a.FE.KEYCODE.ARROW_UP==n?L=((L-s)%q+q)%q:a.FE.KEYCODE.ARROW_DOWN==n?L=(L+s)%q:a.FE.KEYCODE.ARROW_LEFT==n?L=((L-1)%q+q)%q:a.FE.KEYCODE.ARROW_RIGHT==n&&(L=(L+1)%q),m=a(r.get(L)),j.events.disableBlur(),m.focus(),N=!1}}else{a.FE.KEYCODE.ENTER==n&&(M.is("a")?M[0].click():j.button.exec(M),N=!1)}}return !1===N&&(K.preventDefault(),K.stopPropagation()),N},!0)}function g(l,m){var n=d(),o=j.selection.ranges(0);n?(0===o.startOffset&&j.selection.element()===n?a(n).before(a.FE.MARKERS+a.FE.INVISIBLE_SPACE):o.startOffset>0&&j.selection.element()===n&&o.commonAncestorContainer.parentNode.classList.contains("fr-emoticon")&&a(n).after(a.FE.INVISIBLE_SPACE+a.FE.MARKERS),j.selection.restore(),j.html.insert('<span class="fr-emoticon fr-deletable'+(m?" fr-emoticon-img":"")+'"'+(m?' style="background: url('+m+');"':"")+">"+(m?"&nbsp;":l)+"</span>&nbsp;"+a.FE.MARKERS,!0)):j.html.insert('<span class="fr-emoticon fr-deletable'+(m?" fr-emoticon-img":"")+'"'+(m?' style="background: url('+m+');"':"")+">"+(m?"&nbsp;":l)+"</span>&nbsp;",!0)}function h(){j.popups.hide("emoticons"),j.toolbar.showInline()}function i(){var l=function(){for(var n=j.el.querySelectorAll(".fr-emoticon:not(.fr-deletable)"),m=0;m<n.length;m++){n[m].className+=" fr-deletable"}};l(),j.events.on("html.set",l),j.events.on("keydown",function(m){if(j.keys.isCharacter(m.which)&&j.selection.inEditor()){var n=j.selection.ranges(0),o=d();j.node.hasClass(o,"fr-emoticon-img")&&o&&(0===n.startOffset&&j.selection.element()===o?a(o).before(a.FE.MARKERS+a.FE.INVISIBLE_SPACE):a(o).after(a.FE.INVISIBLE_SPACE+a.FE.MARKERS),j.selection.restore())}}),j.events.on("keyup",function(m){for(var n=j.el.querySelectorAll(".fr-emoticon"),o=0;o<n.length;o++){void 0!==n[o].textContent&&0===n[o].textContent.replace(/\u200B/gi,"").length&&a(n[o]).remove()}if(!(m.which>=a.FE.KEYCODE.ARROW_LEFT&&m.which<=a.FE.KEYCODE.ARROW_DOWN)){var p=d();j.node.hasClass(p,"fr-emoticon-img")&&(a(p).append(a.FE.MARKERS),j.selection.restore())}})}return{_init:i,insert:g,showEmoticonsPopup:k,hideEmoticonsPopup:b,back:h}},a.FE.DefineIcon("emoticons",{NAME:"smile-o"}),a.FE.RegisterCommand("emoticons",{title:"Emoticons",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("emoticons")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("emoticons")):this.emoticons.showEmoticonsPopup()},plugin:"emoticons"}),a.FE.RegisterCommand("insertEmoticon",{callback:function(b,e){this.emoticons.insert("&#x"+e+";",this.opts.emoticonsUseImage?"https://cdnjs.cloudflare.com/ajax/libs/emojione/2.0.1/assets/svg/"+e+".svg":null),this.emoticons.hideEmoticonsPopup()}}),a.FE.DefineIcon("emoticonsBack",{NAME:"arrow-left"}),a.FE.RegisterCommand("emoticonsBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.emoticons.back()}})});