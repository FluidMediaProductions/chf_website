/*!
 * froala_editor v2.6.5 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2017 Froala Labs
 */
;!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c)}:a(window.jQuery)}(function(a){a.extend(a.FE.POPUP_TEMPLATES,{"forms.edit":"[_BUTTONS_]","forms.update":"[_BUTTONS_][_TEXT_LAYER_]"}),a.extend(a.FE.DEFAULTS,{formEditButtons:["inputStyle","inputEdit"],formStyles:{"fr-rounded":"Rounded","fr-large":"Large"},formMultipleStyles:!0,formUpdateButtons:["inputBack","|"]}),a.FE.PLUGINS.forms=function(c){function e(t){t.preventDefault(),c.selection.clear(),a(this).data("mousedown",!0)}function g(t){a(this).data("mousedown")&&(t.stopPropagation(),a(this).removeData("mousedown"),s=this,q(this)),t.preventDefault()}function i(){c.$el.find("input, textarea, button").removeData("mousedown")}function k(){a(this).removeData("mousedown")}function m(){c.events.$on(c.$el,c._mousedown,"input, textarea, button",e),c.events.$on(c.$el,c._mouseup,"input, textarea, button",g),c.events.$on(c.$el,"touchmove","input, textarea, button",k),c.events.$on(c.$el,c._mouseup,i),c.events.$on(c.$win,c._mouseup,i),d(!0)}function o(){return s||null}function p(){var v="";c.opts.formEditButtons.length>0&&(v='<div class="fr-buttons">'+c.button.buildList(c.opts.formEditButtons)+"</div>");var t={buttons:v},u=c.popups.create("forms.edit",t);return c.$wp&&c.events.$on(c.$wp,"scroll.link-edit",function(){o()&&c.popups.isVisible("forms.edit")&&q(o())}),u}function q(t){var u=c.popups.get("forms.edit");u||(u=p()),s=t;var v=a(t);c.popups.refresh("forms.edit"),c.popups.setContainer("forms.edit",c.$sc);var w=v.offset().left+v.outerWidth()/2,x=v.offset().top+v.outerHeight();c.popups.show("forms.edit",w,x,v.outerHeight())}function r(){var t=c.popups.get("forms.update"),u=o();if(u){var v=a(u);v.is("button")?t.find('input[type="text"][name="text"]').val(v.text()):t.find('input[type="text"][name="text"]').val(v.attr("placeholder"))}t.find('input[type="text"][name="text"]').trigger("change")}function b(){s=null}function d(x){if(x){return c.popups.onRefresh("forms.update",r),c.popups.onHide("forms.update",b),!0}var t="";c.opts.formUpdateButtons.length>=1&&(t='<div class="fr-buttons">'+c.button.buildList(c.opts.formUpdateButtons)+"</div>");var u="",v=0;u='<div class="fr-forms-text-layer fr-layer fr-active">',u+='<div class="fr-input-line"><input name="text" type="text" placeholder="Text" tabIndex="'+ ++v+'"></div>',u+='<div class="fr-action-buttons"><button class="fr-command fr-submit" data-cmd="updateInput" href="#" tabIndex="'+ ++v+'" type="button">'+c.language.translate("Update")+"</button></div></div>";var w={buttons:t,text_layer:u};return c.popups.create("forms.update",w)}function f(){var t=o();if(t){var u=a(t),v=c.popups.get("forms.update");v||(v=d()),c.popups.isVisible("forms.update")||c.popups.refresh("forms.update"),c.popups.setContainer("forms.update",c.$sc);var w=u.offset().left+u.outerWidth()/2,x=u.offset().top+u.outerHeight();c.popups.show("forms.update",w,x,u.outerHeight())}}function h(t,u,v){void 0===u&&(u=c.opts.formStyles),void 0===v&&(v=c.opts.formMultipleStyles);var w=o();if(!w){return !1}if(!v){var x=Object.keys(u);x.splice(x.indexOf(t),1),a(w).removeClass(x.join(" "))}a(w).toggleClass(t)}function j(){c.events.disableBlur(),c.selection.restore(),c.events.enableBlur();var t=o();t&&c.$wp&&("BUTTON"==t.tagName&&c.selection.restore(),q(t))}function l(){var t=c.popups.get("forms.update"),u=o();if(u){var v=a(u),w=t.find('input[type="text"][name="text"]').val()||"";w.length&&(v.is("button")?v.text(w):v.attr("placeholder",w)),c.popups.hide("forms.update"),q(u)}}function n(){m(),c.events.$on(c.$el,"submit","form",function(t){return t.preventDefault(),!1})}var s;return{_init:n,updateInput:l,getInput:o,applyStyle:h,showUpdatePopup:f,showEditPopup:q,back:j}},a.FE.RegisterCommand("updateInput",{undo:!1,focus:!1,title:"Update",callback:function(){this.forms.updateInput()}}),a.FE.DefineIcon("inputStyle",{NAME:"magic"}),a.FE.RegisterCommand("inputStyle",{title:"Style",type:"dropdown",html:function(){var c='<ul class="fr-dropdown-list">',g=this.opts.formStyles;for(var b in g){g.hasOwnProperty(b)&&(c+='<li><a class="fr-command" tabIndex="-1" data-cmd="inputStyle" data-param1="'+b+'">'+this.language.translate(g[b])+"</a></li>")}return c+="</ul>"},callback:function(c,g){var b=this.forms.getInput();b&&(this.forms.applyStyle(g),this.forms.showEditPopup(b))},refreshOnShow:function(b,c){var d=this.forms.getInput();if(d){var e=a(d);c.find(".fr-command").each(function(){var f=a(this).data("param1");a(this).toggleClass("fr-active",e.hasClass(f))})}}}),a.FE.DefineIcon("inputEdit",{NAME:"edit"}),a.FE.RegisterCommand("inputEdit",{title:"Edit Button",undo:!1,refreshAfterCallback:!1,callback:function(){this.forms.showUpdatePopup()}}),a.FE.DefineIcon("inputBack",{NAME:"arrow-left"}),a.FE.RegisterCommand("inputBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.forms.back()}}),a.FE.RegisterCommand("updateInput",{undo:!1,focus:!1,title:"Update",callback:function(){this.forms.updateInput()}})});