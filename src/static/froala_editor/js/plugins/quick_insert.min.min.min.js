/*!
 * froala_editor v2.6.5 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2017 Froala Labs
 */
;!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c)}:a(window.jQuery)}(function(a){a.extend(a.FE.DEFAULTS,{quickInsertButtons:["image","table","ul","ol","hr"],quickInsertTags:["p","div","h1","h2","h3","h4","h5","h6","pre","blockquote"]}),a.FE.QUICK_INSERT_BUTTONS={image:{icon:"insertImage",callback:function(){var b=this;b.shared.$qi_image_input||(b.shared.$qi_image_input=a('<input accept="image/*" name="quickInsertImage'+this.id+'" style="display: none;" type="file">'),a("body:first").append(b.shared.$qi_image_input),b.events.$on(b.shared.$qi_image_input,"change",function(){var d=a(this).data("inst");this.files&&(d.quickInsert.hide(),d.image.upload(this.files)),a(this).val("")},!0)),b.$qi_image_input=b.shared.$qi_image_input,b.helpers.isMobile()&&b.selection.save(),b.$qi_image_input.data("inst",b).trigger("click")},requiredPlugin:"image",title:"Insert Image"},table:{icon:"insertTable",callback:function(){this.quickInsert.hide(),this.table.insert(2,2),this.undo.saveStep()},requiredPlugin:"table",title:"Insert Table"},ol:{icon:"formatOL",callback:function(){this.quickInsert.hide(),this.lists.format("OL"),this.undo.saveStep()},requiredPlugin:"lists",title:"Ordered List"},ul:{icon:"formatUL",callback:function(){this.quickInsert.hide(),this.lists.format("UL"),this.undo.saveStep()},requiredPlugin:"lists",title:"Unordered List"},hr:{icon:"insertHR",callback:function(){this.quickInsert.hide(),this.commands.insertHR(),this.undo.saveStep()},title:"Insert Horizontal Line"}},a.FE.DefineIcon("quickInsert",{PATH:'<path d="M22,16.75 L16.75,16.75 L16.75,22 L15.25,22.000 L15.25,16.75 L10,16.75 L10,15.25 L15.25,15.25 L15.25,10 L16.75,10 L16.75,15.25 L22,15.25 L22,16.75 Z"/>',template:"svg"}),a.FE.RegisterQuickInsertCommand=function(b,c){a.FE.QUICK_INSERT_BUTTONS[b]=c},a.FE.PLUGINS.quickInsert=function(i){function j(p){var m,n,o;m=p.offset().top-i.$box.offset().top,n=0-g.outerWidth(),o=(g.outerHeight()-p.outerHeight())/2,i.opts.iframe&&(m+=i.$iframe.offset().top-i.helpers.scrollTop()),g.hasClass("fr-on")&&m>=0&&h.css("top",m-o),m>=0&&m-o<=i.$box.outerHeight()-p.outerHeight()?(g.hasClass("fr-hidden")&&(g.hasClass("fr-on")&&c(),g.removeClass("fr-hidden")),g.css("top",m-o)):g.hasClass("fr-visible")&&(g.addClass("fr-hidden"),d()),g.css("left",n)}function k(m){g||e(),g.hasClass("fr-on")&&d(),i.$box.append(g),j(m),g.data("tag",m),g.addClass("fr-visible")}function l(){if(i.core.hasFocus()){var m=i.selection.element();i.node.isBlock(m)||(m=i.node.blockParent(m)),m&&i.node.isEmpty(m)&&i.node.isElement(m.parentNode)&&i.opts.quickInsertTags.indexOf(m.tagName.toLowerCase())>=0?g&&g.data("tag").is(a(m))&&g.hasClass("fr-on")?d():i.selection.isCollapsed()&&k(a(m)):b()}}function b(){g&&(i.html.checkIfEmpty(),g.hasClass("fr-on")&&d(),g.removeClass("fr-visible fr-on"),g.css("left",-9999).css("top",-9999))}function c(m){if(m&&m.preventDefault(),g.hasClass("fr-on")&&!g.hasClass("fr-hidden")){d()}else{if(!i.shared.$qi_helper){for(var o=i.opts.quickInsertButtons,n='<div class="fr-qi-helper">',p=0,q=0;q<o.length;q++){var r=a.FE.QUICK_INSERT_BUTTONS[o[q]];r&&(!r.requiredPlugin||a.FE.PLUGINS[r.requiredPlugin]&&i.opts.pluginsEnabled.indexOf(r.requiredPlugin)>=0)&&(n+='<a class="fr-btn fr-floating-btn" role="button" title="'+i.language.translate(r.title)+'" tabIndex="-1" data-cmd="'+o[q]+'" style="transition-delay: '+0.025*p+++'s;">'+i.icon.create(r.icon)+"</a>")}n+="</div>",i.shared.$qi_helper=a(n),i.tooltip.bind(i.shared.$qi_helper,"> a.fr-btn")}h=i.shared.$qi_helper,h.appendTo(i.$box),setTimeout(function(){h.css("top",parseFloat(g.css("top"))),h.css("left",parseFloat(g.css("left"))+g.outerWidth()),h.find("a").addClass("fr-size-1"),g.addClass("fr-on")},10)}}function d(){var m=i.$box.find(".fr-qi-helper");m.length&&(m.find("a").removeClass("fr-size-1"),m.css("left",-9999),g.hasClass("fr-hidden")||g.removeClass("fr-on"))}function e(){i.shared.$quick_insert||(i.shared.$quick_insert=a('<div class="fr-quick-insert"><a class="fr-floating-btn" role="button" tabIndex="-1" title="'+i.language.translate("Quick Insert")+'">'+i.icon.create("quickInsert")+"</a></div>")),g=i.shared.$quick_insert,i.tooltip.bind(i.$box,".fr-quick-insert > a.fr-floating-btn"),i.events.on("destroy",function(){g.removeClass("fr-on").appendTo(a("body:first")).css("left",-9999).css("top",-9999),h&&(d(),h.appendTo(a("body:first")))},!0),i.events.on("shared.destroy",function(){g.html("").removeData().remove(),g=null,h&&(h.html("").removeData().remove(),h=null)},!0),i.events.on("commands.before",b),i.events.on("commands.after",function(){i.popups.areVisible()||l()}),i.events.bindClick(i.$box,".fr-quick-insert > a",c),i.events.bindClick(i.$box,".fr-qi-helper > a.fr-btn",function(m){var n=a(m.currentTarget).data("cmd");a.FE.QUICK_INSERT_BUTTONS[n].callback.apply(i,[m.currentTarget])}),i.events.$on(i.$wp,"scroll",function(){g.hasClass("fr-visible")&&j(g.data("tag"))})}function f(){if(!i.$wp){return !1}i.opts.iframe&&i.$el.parent("html").find("head").append('<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">'),i.popups.onShow("image.edit",b),i.events.on("mouseup",l),i.helpers.isMobile()&&i.events.$on(a(i.o_doc),"selectionchange",l),i.events.on("blur",b),i.events.on("keyup",l),i.events.on("keydown",function(){setTimeout(function(){l()},0)})}var g,h;return{_init:f,hide:b}}});