/*!
 * froala_editor v2.6.5 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2017 Froala Labs
 */
;!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c)}:a(window.jQuery)}(function(a){a.extend(a.FE.DEFAULTS,{dragInline:!0}),a.FE.PLUGINS.draggable=function(f){function g(o){return !(!o.originalEvent||!o.originalEvent.target||o.originalEvent.target.nodeType!=Node.TEXT_NODE)||(o.target&&"A"==o.target.tagName&&1==o.target.childNodes.length&&"IMG"==o.target.childNodes[0].tagName&&(o.target=o.target.childNodes[0]),a(o.target).hasClass("fr-draggable")?(f.undo.canDo()||f.undo.saveStep(),f.opts.dragInline?f.$el.attr("contenteditable",!0):f.$el.attr("contenteditable",!1),f.opts.toolbarInline&&f.toolbar.hide(),a(o.target).addClass("fr-dragging"),f.browser.msie||f.browser.edge||f.selection.clear(),void o.originalEvent.dataTransfer.setData("text","Froala")):(o.preventDefault(),!1))}function i(o){return !(o&&("HTML"==o.tagName||"BODY"==o.tagName||f.node.isElement(o)))}function j(q,o,p){f.opts.iframe&&(q+=f.$iframe.offset().top,o+=f.$iframe.offset().left),h.offset().top!=q&&h.css("top",q),h.offset().left!=o&&h.css("left",o),h.width()!=p&&h.css("width",p)}function k(v){var w=f.doc.elementFromPoint(v.originalEvent.pageX-f.win.pageXOffset,v.originalEvent.pageY-f.win.pageYOffset);if(!i(w)){for(var o=0,p=w;!i(p)&&p==w&&v.originalEvent.pageY-f.win.pageYOffset-o>0;){o++,p=f.doc.elementFromPoint(v.originalEvent.pageX-f.win.pageXOffset,v.originalEvent.pageY-f.win.pageYOffset-o)}(!i(p)||h&&0===f.$el.find(p).length&&p!=h.get(0))&&(p=null);for(var q=0,r=w;!i(r)&&r==w&&v.originalEvent.pageY-f.win.pageYOffset+q<a(f.doc).height();){q++,r=f.doc.elementFromPoint(v.originalEvent.pageX-f.win.pageXOffset,v.originalEvent.pageY-f.win.pageYOffset+q)}(!i(r)||h&&0===f.$el.find(r).length&&r!=h.get(0))&&(r=null),w=null==r&&p?p:r&&null==p?r:r&&p?o<q?p:r:null}if(a(w).hasClass("fr-drag-helper")){return !1}if(w&&!f.node.isBlock(w)&&(w=f.node.blockParent(w)),w&&["TD","TH","TR","THEAD","TBODY"].indexOf(w.tagName)>=0&&(w=a(w).parents("table").get(0)),w&&["LI"].indexOf(w.tagName)>=0&&(w=a(w).parents("UL, OL").get(0)),w&&!a(w).hasClass("fr-drag-helper")){h||(a.FE.$draggable_helper||(a.FE.$draggable_helper=a('<div class="fr-drag-helper"></div>')),h=a.FE.$draggable_helper,f.events.on("shared.destroy",function(){h.html("").removeData().remove(),h=null},!0));var s;s=v.originalEvent.pageY<a(w).offset().top+a(w).outerHeight()/2;var t=a(w),u=0;s||0!==t.next().length?(s||(t=t.next()),"before"==h.data("fr-position")&&t.is(h.data("fr-tag"))||(t.prev().length>0&&(u=parseFloat(t.prev().css("margin-bottom"))||0),u=Math.max(u,parseFloat(t.css("margin-top"))||0),j(t.offset().top-u/2-f.$box.offset().top,t.offset().left-f.win.pageXOffset-f.$box.offset().left,t.width()),h.data("fr-position","before"))):"after"==h.data("fr-position")&&t.is(h.data("fr-tag"))||(u=parseFloat(t.css("margin-bottom"))||0,j(t.offset().top+a(w).height()+u/2-f.$box.offset().top,t.offset().left-f.win.pageXOffset-f.$box.offset().left,t.width()),h.data("fr-position","after")),h.data("fr-tag",t),h.addClass("fr-visible"),h.appendTo(f.$box)}else{h&&f.$box.find(h).length>0&&h.removeClass("fr-visible")}}function l(o){o.originalEvent.dataTransfer.dropEffect="move",f.opts.dragInline?b()||!f.browser.msie&&!f.browser.edge||o.preventDefault():(o.preventDefault(),k(o))}function m(o){o.originalEvent.dataTransfer.dropEffect="move",f.opts.dragInline||o.preventDefault()}function n(p){f.$el.attr("contenteditable",!0);var o=f.$el.find(".fr-dragging");h&&h.hasClass("fr-visible")&&f.$box.find(h).length?c(p):o.length&&(p.preventDefault(),p.stopPropagation()),h&&f.$box.find(h).length&&h.removeClass("fr-visible"),o.removeClass("fr-dragging")}function b(){for(var p=null,o=0;o<a.FE.INSTANCES.length;o++){if(p=a.FE.INSTANCES[o].$el.find(".fr-dragging"),p.length){return p.get(0)}}}function c(t){for(var o,p,q=0;q<a.FE.INSTANCES.length;q++){if(o=a.FE.INSTANCES[q].$el.find(".fr-dragging"),o.length){p=a.FE.INSTANCES[q];break}}if(o.length){if(t.preventDefault(),t.stopPropagation(),h&&h.hasClass("fr-visible")&&f.$box.find(h).length){h.data("fr-tag")[h.data("fr-position")]('<span class="fr-marker"></span>'),h.removeClass("fr-visible")}else{if(!1===f.markers.insertAtPoint(t.originalEvent)){return !1}}o.removeClass("fr-dragging");var r=o;if(o.parent().is("A")&&(r=o.parent()),f.core.isEmpty()){f.events.focus()}else{f.$el.find(".fr-marker").replaceWith(a.FE.MARKERS),f.selection.restore()}if(p==f||f.undo.canDo()||f.undo.saveStep(),f.core.isEmpty()){f.$el.html(r)}else{var s=f.markers.insert();0===r.find(s).length?a(s).replaceWith(r):a(s).replaceWith(o),o.after(a.FE.MARKERS),f.selection.restore()}return f.popups.hideAll(),f.selection.save(),f.$el.find(f.html.emptyBlockTagsQuery()).not("TD, TH, LI, .fr-inner").remove(),f.html.wrap(),f.html.fillEmptyBlocks(),f.selection.restore(),f.undo.saveStep(),f.opts.iframe&&f.size.syncIframe(),p!=f&&(p.popups.hideAll(),p.$el.find(p.html.emptyBlockTagsQuery()).not("TD, TH, LI, .fr-inner").remove(),p.html.wrap(),p.html.fillEmptyBlocks(),p.undo.saveStep(),p.events.trigger("element.dropped"),p.opts.iframe&&p.size.syncIframe()),f.events.trigger("element.dropped",[r]),!1}h&&h.removeClass("fr-visible"),f.undo.canDo()||f.undo.saveStep(),setTimeout(function(){f.undo.saveStep()},0)}function d(q){if(q&&"DIV"==q.tagName&&f.node.hasClass(q,"fr-drag-helper")){q.parentNode.removeChild(q)}else{if(q&&q.nodeType==Node.ELEMENT_NODE){for(var o=q.querySelectorAll("div.fr-drag-helper"),p=0;p<o.length;p++){o[p].parentNode.removeChild(o[p])}}}}function e(){f.opts.enter==a.FE.ENTER_BR&&(f.opts.dragInline=!0),f.events.on("dragstart",g,!0),f.events.on("dragover",l,!0),f.events.on("dragenter",m,!0),f.events.on("document.dragend",n,!0),f.events.on("document.drop",n,!0),f.events.on("drop",c,!0),f.events.on("html.processGet",d)}var h;return{_init:e}}});