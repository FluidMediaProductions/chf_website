/*!
 * froala_editor v2.6.5 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2017 Froala Labs
 */
;!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof module&&module.exports?module.exports=function(a,d){return void 0===d&&(d="undefined"!=typeof window?require("jquery"):require("jquery")(a)),b(d)}:b(window.jQuery)}(function(b){b.extend(b.FE.DEFAULTS,{lineBreakerTags:["table","hr","form","dl","span.fr-video"],lineBreakerOffset:15,lineBreakerHorizontalOffset:10}),b.FE.PLUGINS.lineBreaker=function(J){function I(P,O){var N,M,L,K,s,r,q,p;if(null==P){K=O.parent(),s=K.offset().top,q=O.offset().top,N=q-Math.min((q-s)/2,J.opts.lineBreakerOffset),L=K.outerWidth(),M=K.offset().left}else{if(null==O){K=P.parent(),r=K.offset().top+K.outerHeight(),p=P.offset().top+P.outerHeight(),N=p+Math.min((r-p)/2,J.opts.lineBreakerOffset),L=K.outerWidth(),M=K.offset().left}else{K=P.parent();var o=P.offset().top+P.height(),n=O.offset().top;if(o>n){return !1}N=(o+n)/2,L=K.outerWidth(),M=K.offset().left}}J.opts.iframe&&(M+=J.$iframe.offset().left-J.helpers.scrollLeft(),N+=J.$iframe.offset().top-J.helpers.scrollTop()),J.$box.append(u),u.css("top",N-J.win.pageYOffset),u.css("left",M-J.win.pageXOffset),u.css("width",L),u.data("tag1",P),u.data("tag2",O),u.addClass("fr-visible").data("instance",J)}function H(c,o){var n,m,l=c.offset().top,k=c.offset().top+c.outerHeight();if(Math.abs(k-o)<=J.opts.lineBreakerOffset||Math.abs(o-l)<=J.opts.lineBreakerOffset){if(Math.abs(k-o)<Math.abs(o-l)){m=c.get(0);for(var e=m.nextSibling;e&&e.nodeType==Node.TEXT_NODE&&0===e.textContent.length;){e=e.nextSibling}if(!e){return I(c,null),!0}if(n=G(e)){return I(c,n),!0}}else{if(m=c.get(0),!m.previousSibling){return I(null,c),!0}if(n=G(m.previousSibling)){return I(n,c),!0}}}u.removeClass("fr-visible").removeData("instance")}function G(f){if(f){var e=b(f);if(0===J.$el.find(e).length){return null}if(f.nodeType!=Node.TEXT_NODE&&e.is(J.opts.lineBreakerTags.join(","))){return e}if(e.parents(J.opts.lineBreakerTags.join(",")).length>0){return f=e.parents(J.opts.lineBreakerTags.join(",")).get(0),0!==J.$el.find(f).length&&b(f).is(J.opts.lineBreakerTags.join(","))?b(f):null}}return null}function F(h,g){var f=J.doc.elementFromPoint(h,g);return f&&!b(f).closest(".fr-line-breaker").length&&!J.node.isElement(f)&&f!=J.$wp.get(0)&&b(f).closest(J.$wp).length?f:null}function E(f,k,j){for(var i=j,h=null;i<=J.opts.lineBreakerOffset&&!h;){h=F(f,k-i),h||(h=F(f,k+i)),i+=j}return h}function D(f,i,h){for(var g=null;!g&&f>J.$box.offset().left&&f<J.$box.offset().left+J.$box.outerWidth();){g=F(f,i),g||(g=E(f,i,5)),"left"==h?f-=J.opts.lineBreakerHorizontalOffset:f+=J.opts.lineBreakerHorizontalOffset}return g}function C(d){a=null;var h=null,g=null,e=J.doc.elementFromPoint(d.pageX-J.win.pageXOffset,d.pageY-J.win.pageYOffset);e&&("HTML"==e.tagName||"BODY"==e.tagName||J.node.isElement(e)||(e.getAttribute("class")||"").indexOf("fr-line-breaker")>=0)?(g=E(d.pageX-J.win.pageXOffset,d.pageY-J.win.pageYOffset,1),g||(g=D(d.pageX-J.win.pageXOffset-J.opts.lineBreakerHorizontalOffset,d.pageY-J.win.pageYOffset,"left")),g||(g=D(d.pageX-J.win.pageXOffset+J.opts.lineBreakerHorizontalOffset,d.pageY-J.win.pageYOffset,"right")),h=G(g)):h=G(e),h?H(h,d.pageY):J.core.sameInstance(u)&&u.removeClass("fr-visible").removeData("instance")}function B(c){return !(u.hasClass("fr-visible")&&!J.core.sameInstance(u))&&(J.popups.areVisible()||J.el.querySelector(".fr-selected-cell")?(u.removeClass("fr-visible"),!0):void (!1!==t||J.edit.isDisabled()||(a&&clearTimeout(a),a=setTimeout(C,30,c))))}function A(){a&&clearTimeout(a),u.hasClass("fr-visible")&&u.removeClass("fr-visible").removeData("instance")}function z(){t=!0,A()}function y(){t=!1}function x(j){if(!J.core.sameInstance(u)){return !0}j.preventDefault(),u.removeClass("fr-visible").removeData("instance");var i=u.data("tag1"),h=u.data("tag2"),g=J.html.defaultTag();null==i?g&&"TD"!=h.parent().get(0).tagName&&0===h.parents(g).length?h.before("<"+g+">"+b.FE.MARKERS+"<br></"+g+">"):h.before(b.FE.MARKERS+"<br>"):g&&"TD"!=i.parent().get(0).tagName&&0===i.parents(g).length?i.after("<"+g+">"+b.FE.MARKERS+"<br></"+g+">"):i.after(b.FE.MARKERS+"<br>"),J.selection.restore()}function w(){J.shared.$line_breaker||(J.shared.$line_breaker=b('<div class="fr-line-breaker"><a class="fr-floating-btn" role="button" tabIndex="-1" title="'+J.language.translate("Break")+'"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><rect x="21" y="11" width="2" height="8"/><rect x="14" y="17" width="7" height="2"/><path d="M14.000,14.000 L14.000,22.013 L9.000,18.031 L14.000,14.000 Z"/></svg></a></div>')),u=J.shared.$line_breaker,J.events.on("shared.destroy",function(){u.html("").removeData().remove(),u=null},!0),J.events.on("destroy",function(){u.removeData("instance").removeClass("fr-visible").appendTo("body:first"),clearTimeout(a)},!0),J.events.$on(u,"mousemove",function(c){c.stopPropagation()},!0),J.events.$on(u,"mousedown","a",function(c){c.stopPropagation()},!0),J.events.$on(u,"click","a",x,!0)}function v(){if(!J.$wp){return !1}w(),t=!1,J.events.$on(J.$win,"mousemove",B),J.events.$on(b(J.win),"scroll",A),J.events.on("popups.show.table.edit",A),J.events.on("commands.after",A),J.events.$on(b(J.win),"mousedown",z),J.events.$on(b(J.win),"mouseup",y)}var u,t,a;return{_init:v}}});