/*!
 * froala_editor v2.6.5 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2017 Froala Labs
 */
;!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c)}:a(window.jQuery)}(function(a){a.extend(a.FE.DEFAULTS,{saveInterval:10000,saveURL:null,saveParams:{},saveParam:"body",saveMethod:"POST"}),a.FE.PLUGINS.save=function(f){function g(p,o){f.events.trigger("save.error",[{code:p,message:h[p]},o])}function i(o){if(void 0===o&&(o=f.html.get()),!1===f.events.trigger("save.before")){return !1}if(f.opts.saveURL){var p={};for(var q in f.opts.saveParams){if(f.opts.saveParams.hasOwnProperty(q)){var r=f.opts.saveParams[q];p[q]="function"==typeof r?r.call(this):r}}var s={};s[f.opts.saveParam]=o,a.ajax({type:f.opts.saveMethod,url:f.opts.saveURL,data:a.extend(s,p),crossDomain:f.opts.requestWithCORS,xhrFields:{withCredentials:f.opts.requestWithCredentials},headers:f.opts.requestHeaders}).done(function(t){b=o,f.events.trigger("save.after",[t])}).fail(function(t){g(e,t.response||t.responseText)})}else{g(d)}}function j(){clearTimeout(n),n=setTimeout(function(){var o=f.html.get();(b!=o||c)&&(b=o,c=!1,i(o))},f.opts.saveInterval)}function k(){j(),c=!1}function l(){c=!0}function m(){f.opts.saveInterval&&(b=f.html.get(),f.events.on("contentChanged",j),f.events.on("keydown destroy",function(){clearTimeout(n)}))}var n=null,b=null,c=!1,d=1,e=2,h={};return h[d]="Missing saveURL option.",h[e]="Something went wrong during save.",{_init:m,save:i,reset:k,force:l}},a.FE.DefineIcon("save",{NAME:"floppy-o"}),a.FE.RegisterCommand("save",{title:"Save",undo:!1,focus:!1,refreshAfterCallback:!1,callback:function(){this.save.save()},plugin:"save"})});