/*!
 * froala_editor v2.6.5 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2017 Froala Labs
 */
;!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c)}:a(window.jQuery)}(function(a){a.FE.PLUGINS.lists=function(f){function g(o){return'<span class="fr-open-'+o.toLowerCase()+'"></span>'}function i(o){return'<span class="fr-close-'+o.toLowerCase()+'"></span>'}function j(t,o){for(var p=[],q=0;q<t.length;q++){var r=t[q].parentNode;"LI"==t[q].tagName&&r.tagName!=o&&p.indexOf(r)<0&&p.push(r)}for(q=p.length-1;q>=0;q--){var s=a(p[q]);s.replaceWith("<"+o.toLowerCase()+">"+s.html()+"</"+o.toLowerCase()+">")}}function k(v,w){j(v,w);var o,p=f.html.defaultTag(),q=null;v.length&&(o="rtl"==f.opts.direction||"rtl"==a(v[0]).css("direction")?"margin-right":"margin-left");for(var r=0;r<v.length;r++){if("LI"!=v[r].tagName){var s=f.helpers.getPX(a(v[r]).css(o))||0;v[r].style.marginLeft=null,null===q&&(q=s);var t=q>0?"<"+w+' style="'+o+": "+q+'px;">':"<"+w+">",u="</"+w+">";for(s-=q;s/f.opts.indentMargin>0;){t+="<"+w+">",u+=u,s-=f.opts.indentMargin}p&&v[r].tagName.toLowerCase()==p?a(v[r]).replaceWith(t+"<li"+f.node.attributes(v[r])+">"+a(v[r]).html()+"</li>"+u):a(v[r]).wrap(t+"<li></li>"+u)}}f.clean.lists()}function l(u){var v,w;for(v=u.length-1;v>=0;v--){for(w=v-1;w>=0;w--){if(a(u[w]).find(u[v]).length||u[w]==u[v]){u.splice(v,1);break}}}var x=[];for(v=0;v<u.length;v++){var y=a(u[v]),o=u[v].parentNode,p=y.attr("class");if(y.before(i(o.tagName)),"LI"==o.parentNode.tagName){y.before(i("LI")),y.after(g("LI"))}else{var q="";p&&(q+=' class="'+p+'"');var r="rtl"==f.opts.direction||"rtl"==y.css("direction")?"margin-right":"margin-left";f.helpers.getPX(a(o).css(r))&&(q+=' style="'+r+":"+f.helpers.getPX(a(o).css(r))+'px;"'),q&&y.wrapInner("<"+f.html.defaultTag()+q+"></"+f.html.defaultTag()+">"),f.node.isEmpty(y.get(0),!0)||0!==y.find(f.html.blockTagsQuery()).length||y.append("<br>"),y.append(g("LI")),y.prepend(i("LI"))}y.after(g(o.tagName)),"LI"==o.parentNode.tagName&&(o=o.parentNode.parentNode),x.indexOf(o)<0&&x.push(o)}for(v=0;v<x.length;v++){var s=a(x[v]),t=s.html();t=t.replace(/<span class="fr-close-([a-z]*)"><\/span>/g,"</$1>"),t=t.replace(/<span class="fr-open-([a-z]*)"><\/span>/g,"<$1>"),s.replaceWith(f.node.openTagString(s.get(0))+t+f.node.closeTagString(s.get(0)))}f.$el.find("li:empty").remove(),f.$el.find("ul:empty, ol:empty").remove(),f.clean.lists(),f.html.wrap()}function m(q,r){for(var o=!0,p=0;p<q.length;p++){if("LI"!=q[p].tagName){return !1}q[p].parentNode.tagName!=r&&(o=!1)}return o}function n(q){f.selection.save(),f.html.wrap(!0,!0,!0,!0),f.selection.restore();for(var o=f.selection.blocks(),p=0;p<o.length;p++){"LI"!=o[p].tagName&&"LI"==o[p].parentNode.tagName&&(o[p]=o[p].parentNode)}f.selection.save(),m(o,q)?l(o):k(o,q),f.html.unwrap(),f.selection.restore()}function b(o,p){var q=a(f.selection.element());if(q.get(0)!=f.el){var r=q.get(0);r="LI"!=r.tagName&&r.firstElementChild&&"LI"!=r.firstElementChild.tagName?q.parents("li").get(0):"LI"==r.tagName||r.firstElementChild?r.firstElementChild&&"LI"==r.firstElementChild.tagName?q.get(0).firstChild:q.get(0):q.parents("li").get(0),r&&r.parentNode.tagName==p&&f.el.contains(r.parentNode)&&o.addClass("fr-active")}}function c(v){f.selection.save();for(var w=0;w<v.length;w++){var o=v[w].previousSibling;if(o){var p=a(v[w]).find("> ul, > ol").last().get(0);if(p){for(var q=a("<li>").prependTo(a(p)),r=f.node.contents(v[w])[0];r&&!f.node.isList(r);){var s=r.nextSibling;q.append(r),r=s}a(o).append(a(p)),a(v[w]).remove()}else{var t=a(o).find("> ul, > ol").last().get(0);if(t){a(t).append(a(v[w]))}else{var u=a("<"+v[w].parentNode.tagName+">");a(o).append(u),u.append(a(v[w]))}}}}f.clean.lists(),f.selection.restore()}function d(o){f.selection.save(),l(o),f.selection.restore()}function e(s){if("indent"==s||"outdent"==s){for(var o=!1,p=f.selection.blocks(),q=[],r=0;r<p.length;r++){"LI"==p[r].tagName?(o=!0,q.push(p[r])):"LI"==p[r].parentNode.tagName&&(o=!0,q.push(p[r].parentNode))}o&&("indent"==s?c(q):d(q))}}function h(){f.events.on("commands.after",e),f.events.on("keydown",function(o){if(o.which==a.FE.KEYCODE.TAB){for(var p=f.selection.blocks(),q=[],r=0;r<p.length;r++){"LI"==p[r].tagName?q.push(p[r]):"LI"==p[r].parentNode.tagName&&q.push(p[r].parentNode)}if(q.length>1||q.length&&(f.selection.info(q[0]).atStart||f.node.isEmpty(q[0]))){return o.preventDefault(),o.stopPropagation(),o.shiftKey?d(q):c(q),!1}}},!0)}return{_init:h,format:n,refresh:b}},a.FE.RegisterCommand("formatUL",{title:"Unordered List",refresh:function(b){this.lists.refresh(b,"UL")},callback:function(){this.lists.format("UL")},plugin:"lists"}),a.FE.RegisterCommand("formatOL",{title:"Ordered List",refresh:function(b){this.lists.refresh(b,"OL")},callback:function(){this.lists.format("OL")},plugin:"lists"}),a.FE.DefineIcon("formatUL",{NAME:"list-ul"}),a.FE.DefineIcon("formatOL",{NAME:"list-ol"})});