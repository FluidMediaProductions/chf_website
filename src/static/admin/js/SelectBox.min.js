(function(a){var b={cache:{},init:function(l){var h=document.getElementById(l);var g;b.cache[l]=[];var c=b.cache[l];var f=h.options;var k=f.length;for(var e=0,d=k;e<d;e++){g=f[e];c.push({value:g.value,text:g.text,displayed:1})}},redisplay:function(l){var h=document.getElementById(l);var g;a(h).empty();var f=h.outerHTML.slice(0,-9);var c=b.cache[l];for(var e=0,d=c.length;e<d;e++){g=c[e];if(g.displayed){var k=new Option(g.text,g.value,false,false);k.setAttribute("title",g.text);f+=k.outerHTML}}f+="</select>";h.outerHTML=f},filter:function(d,p){var o=p.toLowerCase().split(/\s+/);var e,f;var c=b.cache[d];for(var l=0,h=c.length;l<h;l++){e=c[l];e.displayed=1;var n=e.text.toLowerCase();var m=o.length;for(var g=0;g<m;g++){f=o[g];if(n.indexOf(f)===-1){e.displayed=0;break}}}b.redisplay(d)},delete_from_cache:function(k,h){var g,f=null;var c=b.cache[k];for(var e=0,d=c.length;e<d;e++){g=c[e];if(g.value===h){f=e;break}}c.splice(f,1)},add_to_cache:function(d,c){b.cache[d].push({value:c.value,text:c.text,displayed:1})},cache_contains:function(h,g){var f;var c=b.cache[h];for(var e=0,d=c.length;e<d;e++){f=c[e];if(f.value===g){return true}}return false},move:function(h,k){var l=document.getElementById(h);var f;var d=l.options;var m=d.length;for(var e=0,c=m;e<c;e++){f=d[e];var g=f.value;if(f.selected&&b.cache_contains(h,g)){b.add_to_cache(k,{value:g,text:f.text,displayed:1});b.delete_from_cache(h,g)}}b.redisplay(h);b.redisplay(k)},move_all:function(h,k){var l=document.getElementById(h);var f;var d=l.options;var m=d.length;for(var e=0,c=m;e<c;e++){f=d[e];var g=f.value;if(b.cache_contains(h,g)){b.add_to_cache(k,{value:g,text:f.text,displayed:1});b.delete_from_cache(h,g)}}b.redisplay(h);b.redisplay(k)},sort:function(c){b.cache[c].sort(function(f,d){f=f.text.toLowerCase();d=d.text.toLowerCase();try{if(f>d){return 1}if(f<d){return -1}}catch(g){}return 0})},select_all:function(g){var e=document.getElementById(g);var d=e.options;var f=d.length;for(var c=0;c<f;c++){d[c].selected="selected"}}};window.SelectBox=b})(django.jQuery);